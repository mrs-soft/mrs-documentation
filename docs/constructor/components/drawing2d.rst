Аннотации на чертёже --- drawing2d
==================================

Определение
-----------

Компонент используется для работы с чертежами в форме.

Тип компонента в конфигураторе: **drawing2d**.

Внешний вид
-----------

JSON-схема для создания компонента в конфигураторе:

..  code-block:: json

    "drawing": {
        "type": "drawing2d",
        "title": "Чертеж",
        "viewId": "62b99e2123e5d5012300046d"
    }

Как оно выглядит в пользовательском приложении:

..  thumbnail:: images/drawing2d-1-overview.png
    :alt: Пример компонента
    :align: center

Свойства
--------

..  code-block:: json

    "type": "drawing2d",
    "title": "Название компонента",
    "viewId": "...",
    "hidden": false   

..  list-table::
    :widths: 20 70 10
    :header-rows: 1

    *   - Свойство
        - Определение
        - Тип данных
    *   - ``type``
        - Тип элемента. Для этого компонента --- это всегда ``drawing2d``.
        - **string**
    *   - ``title``
        - Название компонента, которое отображается в форме.
        - **string**
    *   - ``viewId``
        - В это поле записывается ID представления с чертежами из базы данных.
        - **string**
    *   - ``hidden``
        - При установке значения ``true`` для этого свойства, компонент будет скрыт из формы. Это свойство помогает выстраивать логику для работы с полями.
          То есть с помощью хуков есть возможность изменить значение этого свойства в определённых ситуациях.
        - **boolean**

Модель данных
-------------

Данные сохраняются в ``FormInstances`` в поле ``Data`` в виде JSON.

Заполненная форма в пользовательском приложении:

..  thumbnail:: images/drawing2d-2-model.png
    :alt: Пример компонента
    :width: 70%

После сохранения данные попадают в ``FromInstances`` в конфигураторе. Они сохраняются также в JSON формате:

..  code-block:: json

    [
    ]

В ``FormInstances`` попадают все данные о документе.

..  Примеры использования
    ---------------------

    В системе предусмотрена возможность передавать значения некоторых свойств с помощью хуков.
    Также у свойств есть определённые значения по умолчанию, которые позволяют опускать эти свойства.

    Поэтому в примере ниже мы можем опустить почти все свойства компонента.

    ..  code-block:: json

        "supDocs": {
              "type": "attachments",
              "title": "Сопроводительная документация *"
            }

    Вот так этот компонент будет выглядеть у пользователя:

    ..  thumbnail:: images/attachments-4-example.png
        :alt: Пример компонента
        :width: 70%