Выбор пользователя --- user
===========================

Определение
-----------

Компонент используется для выбора пользователя из списка.

Тип компонента в конфигураторе: **user**.

Внешний вид
-----------

JSON-схема для этого компонента в конфигураторе:

..  code-block:: json

    "user": {
          "type": "user",
          "title": "Инженер ОВиСК *"
        }

Как оно выглядит в пользовательском приложении:

..  thumbnail:: images/user-1-overview.png
    :alt: Пример компонента
    :width: 70%

Свойства
--------

..  code-block:: json

    {
    "type": "user",
    "title": "Сотрудники",
    "multiple": true,
    "filters": { "..." },
    "hidden": false
    "helperText": "..."
    }

..  list-table::
    :header-rows: 1

    *   - Свойство
        - Определение
        - Тип данных
    *   - ``type``
        - Тип элемента. Для многострочного текста — это всегда ``user``.
        - **string**
    *   - ``title``
        - Название поля, отображаемое в форме.
        - **string**
    *   - ``multiple``
        - При установке значения ``True`` для этого свойства, пользователь сможет выбрать несколько сотрудников из списка.
        - **boolean**
    *   - ``filters``
        - Здесь указываются фильтры, по которым поле должно выдавать список пользователей.
          Фильтры соответствуют наименованием из справочника с пользователями.
        - **string**
    *   - ``hidden``
        - Это стандартное свойство для всех компонентов.
          При установке значения ``true`` для этого свойства, компонент будет скрыт из формы.
          Это свойство помогает выстраивать логику для работы с полями.
          То есть с помощью хуков есть возможность изменить значение этого свойства в определённых ситуациях.
          Либо использовать данные из этого поля в других местах, но так, чтобы конечный пользователь не видел этого.
        - **boolean**
    *   - ``helperText``
        - Описание поля. Это стандартное свойство и отображается как текст под полем компонента.
        - **string**

Модель данных
-------------

Данные сохраняются в ``FormInstances`` в поле ``Data`` в виде JSON.

Заполненное текстовое поле в пользовательском приложении:

..  thumbnail:: images/user-2-model.png
    :alt: Пример компонента
    :width: 70%

После сохранения данные попадают в ``FromInstances`` в конфигураторе. Они сохраняются также в JSON формате:

..  code-block:: json

    "engineer": {
    "user": [
      "62ce751b7a90f17aafef5352"
    ]
    }

Примеры использования
---------------------

В примере ниже свойство ``multiple`` имеет значение ``true``.

..  code-block:: json

    "workers": {
    "type": "user",
    "title": "Сотрудники",
    "multiple": true
    }

Благодаря этому появляется возможность выбрать нескольких пользователей:

..  thumbnail:: images/user-3-multiple-example.png
    :alt: Пример компонента
    :width: 50%