Справочники
===========

Выбор пользователя СК
"""""""""""""""""""""

``user`` --- поле выбора пользователя СК.

.. code-block:: json

    "selectUser": {
        "type": "user",
    }

Массив пользователей СК
"""""""""""""""""""""""

``array`` --- массив с множественным выбор значений.
Если заполнено поле ``items.enum`` --- выбор нескольких значений из выпадающего списка.
Иначе --- возможность добавлять и заполнять поля типа, указанного в ``items.type``.

Даёт возможность добавлять поле для выбора пользователей.

.. code-block:: json


    "selectUserArray": {
        "title": "Список пользователей",
        "type": "array",
        "items": {
            "type": "user",
        },
    }

Выбор значений из справочника
"""""""""""""""""""""""""""""

Значение поля ``type`` должно соответствовать названию справочника в directus.

.. code-block:: json
    
    "selectLanguages": {
        "title": "Список языков",
        "type": "languages",
    }

После создания коллекции необходимо выставить для справочника право на чтение,
чтобы сервер мог отправлять справочник клиенту.
Вкладка "Роли права доступа" → Public → Чтение.

При использовании справочника в коллекции обязательно должно быть создано одно поле ``name`` 
--- это пункты справочника для выбора из списка. 

Создание поля ``name``:

#. Создать поле → Standart Field.
#. Key = name.
#. Обязательно для заполнения.
#. Type = String.
#. Интерфейс → Text Input.

:Исключение: Для справочника “Статус” два обязательных поля ``name`` и ``color``.

Создание поля ``color``:

#. Создать поле → Standart Field.
#. Key = color.
#. Обязательно для заполнения.
#. Type = String.
#. Интерфейс → Color.

При разворачивании контекста необходимо создать в Strapi JSON форму с полем ``status``. Элемент ``status`` отвечает за выбор статуса задачи.

.. code-block:: json

    {
      "title": "JSONSchema Form",
      "properties": {
        "status": {
          "type": "status",
          "title": "Статус",
          "default": "done"
        }
      }
    }
